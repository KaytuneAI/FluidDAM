# FluidDAM - 智能数字资产管理工具

一个基于React + Vite + Tldraw的交互式画布应用，**100%复刻Excel sheet布局**，支持完整的数字资产管理和推广内容创建。

## 🚀 核心特性

### 📊 **Excel完美复刻能力**
- 🎯 **100%精确复刻**: 完美还原Excel sheet的布局、样式、图片位置
- 📐 **像素级精度**: 保持原始Excel的精确尺寸和位置关系
- 🖼️ **图片完美适配**: 自动处理Excel中的图片，保持原始比例和位置
- 📝 **文本样式保持**: 完整保留字体、颜色、对齐方式等文本样式
- 🎨 **单元格样式**: 精确还原背景色、边框、合并单元格等

### 🎨 **交互式画布功能**
- 🖱️ **直观操作**: 基于Tldraw的流畅绘图和编辑体验
- 📱 **响应式设计**: 完美适配各种设备和屏幕尺寸
- 🖼️ **高级图像处理**: 支持图像上传、编辑、缩放和旋转
- 📄 **多格式导出**: 导出为PNG/JPG/PDF等多种格式
- 💾 **智能保存**: 自动保存和恢复画布状态

### 🔧 **专业工具集**
- 📊 **Excel导入**: 一键导入Excel文件，自动转换为可编辑画布
- 🎯 **资产管理**: 完整的数字资产管理和组织系统
- 🔄 **实时协作**: 支持多人实时编辑和协作
- 📱 **云端同步**: 自动云端备份和跨设备同步

## 🚀 快速体验

### Excel导入演示
1. **准备Excel文件**: 创建包含图片、文本、样式的Excel文件
2. **一键导入**: 点击"加载画布"按钮，选择Excel文件
3. **完美复刻**: 系统自动100%还原Excel布局和样式
4. **自由编辑**: 在画布上自由编辑、添加新内容
5. **多格式导出**: 导出为PNG、PDF等格式

### 核心优势
- ✅ **零学习成本**: 直接导入现有Excel文件
- ✅ **完美还原**: 100%保持原始布局和样式
- ✅ **增强功能**: 在Excel基础上增加交互和协作功能
- ✅ **多平台支持**: 支持各种设备和浏览器

## 技术栈

- **前端框架**: React 19.1.1
- **构建工具**: Vite 7.1.2
- **绘图库**: Tldraw 3.15.3
- **PDF处理**: jsPDF, PDF-lib
- **图像处理**: html2canvas
- **后端服务**: Express.js

## 快速开始

### 环境要求

- Node.js >= 16.0.0
- npm >= 8.0.0

### 安装依赖

```bash
npm install
```

### 开发模式

启动开发服务器：

```bash
# 仅启动前端开发服务器
npm run dev

# 启动后端服务器
npm run server

# 同时启动前端和后端服务器
npm run dev:full
```

访问 http://localhost:5173 查看应用。

### 构建生产版本

```bash
npm run build
```

构建完成后，文件将输出到 `dist` 目录。

### 预览生产版本

```bash
npm run preview
```

## 📁 项目结构

```
src/
├── App.jsx                    # 主应用组件
├── MainCanvas.jsx            # 核心画布组件 (原TestTLdraw8Refactored)
├── ErrorBoundary.jsx         # 错误边界组件
├── components/               # UI组件
│   ├── InsertImageButton.jsx # 图片插入按钮
│   ├── LoadCanvasButton.jsx  # 画布加载按钮
│   ├── SaveCanvasButton.jsx  # 画布保存按钮
│   └── ShareCanvasButton.jsx # 画布分享按钮
├── utils/                    # 工具函数
│   ├── excelUtils.js         # Excel处理核心
│   ├── excelConverter.js     # Excel转换器
│   └── excel/                # Excel处理模块
│       └── utils/            # Excel工具函数
├── hooks/                    # React Hooks
└── assets/                   # 静态资源

public/
├── images-database.json      # 图像数据库
├── manifest.json            # PWA配置
└── shares/                  # 分享文件存储
```

## 🎯 主要功能

### 📊 **Excel完美导入**
- **一键导入**: 直接拖拽或选择Excel文件(.xlsx, .xls, .xlsm)
- **100%复刻**: 完美还原Excel的布局、样式、图片位置
- **智能解析**: 自动识别单元格合并、图片锚点、文本样式
- **实时预览**: 导入前预览Excel内容，确保准确性
- **批量处理**: 支持多个Excel文件同时导入

### 🎨 **高级画布编辑**
- **精确绘制**: 基于Tldraw的专业绘图工具
- **图层管理**: 完整的图层系统和排序功能
- **撤销/重做**: 无限次撤销和重做操作
- **选择工具**: 精确的选择、移动、缩放功能
- **对齐辅助**: 智能对齐线和网格系统

### 🖼️ **专业图像处理**
- **多格式支持**: PNG、JPG、SVG、WebP等格式
- **智能缩放**: 保持图片质量的智能缩放算法
- **批量处理**: 同时处理多张图片
- **滤镜效果**: 内置多种图片滤镜和效果
- **透明背景**: 完美处理透明背景图片

### 📄 **多格式导出**
- **高质量导出**: 支持PNG、JPG、PDF等格式
- **自定义分辨率**: 支持不同分辨率和DPI设置
- **批量导出**: 一键导出多个画布
- **云端分享**: 生成分享链接，支持在线查看
- **项目保存**: 完整的项目文件保存和恢复

## 开发指南

### 代码规范

项目使用ESLint进行代码检查：

```bash
npm run lint
```

### 添加新功能

1. 在 `src/` 目录下创建新组件
2. 更新 `App.jsx` 引入新组件
3. 添加相应的样式和功能
4. 更新文档

## 部署

### 静态部署

构建完成后，将 `dist` 目录部署到任何静态文件服务器。

### 服务器部署

```bash
# 安装PM2 (推荐)
npm install -g pm2

# 启动应用
pm2 start server.js --name canvas-demo
```

## 贡献指南

请查看 [CONTRIBUTING.md](./CONTRIBUTING.md) 了解如何参与项目开发。

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](./LICENSE) 文件了解详情。

## 更新日志

查看 [CHANGELOG.md](./CHANGELOG.md) 了解版本更新历史。

## 支持

如有问题或建议，请提交 Issue 或联系开发团队。
